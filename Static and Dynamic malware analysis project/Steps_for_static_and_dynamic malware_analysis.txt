**************************** Static and Dynamic malware analysis using Hex editor, Hash my file, Virus Total and Procmon ************************


**************************************************** Static Analysis **************************

1) I first downloaded the malware sample from https://bazaar.abuse.ch
2) The malware is in .zip file.
3) After extracting the .zip file, I found that malware is it in .pdf format.
4) To confirm the file extension I first check the file extension using Hex editor tool.
5) After checking the file I figure out that file is .exe executable file disguise in .pdf format.
6) After that I use hash my file tool to get MD5 hash of the file
7) After getting MD5 hash of the file I check the hash on the VirusTotal site.
8) In VirusTotal 52 vendors flag this file as a malicious.
9) After further investigation on VirusTotal I figure out that it's a "Smoke loader" malware.

    Smoke Loader: It's a spreader, check-disk-space, and checks-user-input malware  and have a 
                  cve number of "cve-2014-6345"

************************************************* Dynamic Analysis **************************

1) To perform a dynamic analysis I create an sandbox environment using Virtual Box tool
2) First I stops all Windows security services (Windows defender, Windows update, and automatic updates from Windows  
   file registry) to understand the capacity of the malware.
3) In next step I opened process monitor (Procmon) tool for few minutes to capture the Windows 10 process
4) In next step I ran the malware executable file and start capturing the process in Procmon I keep it running
   for 5 minutes.
5) After 5 minutes I stopped the process capture in Procmon.
6) Before start analyzing the malware I create a filter in procmon to only seeing the process activity of the malware .exe (executable) file.
7) In next steps I check for registry process changes that are made by the malware in
   procmon and figured out.

      Registry changes: This malware creates a registry key for the session, file system.

8) In next step I check for the file explorer process in Procmon.

      File explorer changes: 
   
       1: I figured out that the malware create a  .mun file which is used for windows system 
          resources which is used by system-level Windows program.
 
       2: I also figure out that the malware also create many .dll files.

9) In next step I check for any Network activity by this malware file, After Analysis I figured out that 
   there is no network activity is performed by the malware.

10) In next step I check for the thread Activity to check for any child process of the malware file

       1: I figured out that the malware file creates a child process of "WerFault.exe" which is 
          self destruct but the help of process monitor I can able to see those hidden child processes.

(This self-project helps me to understand how to successfully perform Malware Analysis (Static and Dynamic)).



